(this.webpackJsonpworkflow=this.webpackJsonpworkflow||[]).push([[0],{71:function(e,a,t){e.exports=t(86)},76:function(e,a,t){},77:function(e,a,t){},86:function(e,a,t){"use strict";t.r(a);var n=t(0),l=t.n(n),r=t(18),o=t.n(r),c=(t(76),t(56)),s=t(9),i=t(11),m=(t(77),function(){var e=localStorage.getItem("user");return e?JSON.parse(e):null}),d=function(e){localStorage.setItem("data",JSON.stringify(e))},u=function(){var e=localStorage.getItem("data");return e?JSON.parse(e):[]},f=t(15),p=t(91),E=t(92),h=t(64),g=t(99),v=t(97),w=t(93),k=t(65),b=t(94),C=t(31),N=t(21),y=Object(s.g)((function(e){var a=Object(C.b)(),t=a.handleSubmit,r=a.errors,o=a.control,c=Object(n.useState)(!1),s=Object(f.a)(c,2),i=s[0],m=s[1];return l.a.createElement(l.a.Fragment,null,l.a.createElement(p.a,{className:"vh-100"},l.a.createElement(E.a,{className:"position-relative box-center"},l.a.createElement(h.a,{md:6,lg:6,sm:12,className:"mx-auto vertical"},l.a.createElement(g.a,{className:"shadow-lg"},l.a.createElement(g.a.Body,null,l.a.createElement(E.a,null,l.a.createElement(p.a,{className:"text-center"},l.a.createElement("strong",null,"Login")),l.a.createElement("form",{noValidate:!0,className:"w-100"},l.a.createElement(h.a,{md:12,lg:12,xs:12},l.a.createElement(C.a,{as:l.a.createElement(v.a.Group,null,l.a.createElement(w.a,{className:"input-group-custom w-100 my-4"},l.a.createElement(w.a.Prepend,null,l.a.createElement(w.a.Text,{className:"input-prepend"},l.a.createElement(N.b,null))),l.a.createElement(v.a.Control,{placeholder:"Email",isInvalid:r.email}),l.a.createElement(v.a.Control.Feedback,{type:"invalid"},r.email&&r.email.message))),rules:{required:{value:!0,message:"Email field is required."},pattern:{value:/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,message:"Email format is invalid."}},control:o,name:"email",defaultValue:""})),l.a.createElement(h.a,{md:12,lg:12,xs:12},l.a.createElement(C.a,{as:l.a.createElement(w.a,{className:"input-group-custom w-100 my-4"},l.a.createElement(w.a.Prepend,null,l.a.createElement(w.a.Text,{className:"input-prepend"},l.a.createElement(N.c,null))),l.a.createElement(v.a.Control,{type:"password",placeholder:"Password",isInvalid:r.password}),l.a.createElement(v.a.Control.Feedback,{type:"invalid"},r.password&&r.password.message)),rules:{required:{value:!0,message:"Password field is required."}},control:o,name:"password",defaultValue:""})),l.a.createElement(h.a,{md:12,lg:12,xs:12},l.a.createElement(v.a.Check,{type:"checkbox",label:"Remember me"})),l.a.createElement(h.a,{md:12,lg:12,xs:12},l.a.createElement(k.a,{className:"w-100 my-4",onClick:t((function(a){var t;"khushilkhatri@gmail.com"===a.email&&"1234567890"===a.password?(t=a,localStorage.setItem("user",JSON.stringify(t)),m(!1),e.history.push("/")):m(!0)}))},"Login"))),i&&l.a.createElement(h.a,{md:12,lg:12,xs:12},l.a.createElement(b.a,{variant:"danger"},"Email or Password is invalid.")))))))))})),S=t(34),x=t(35),O=t(37),j=t(38),F=t(95),W=t(53),I=t(98),P=t(28),A=Object(s.g)((function(e){return l.a.createElement(l.a.Fragment,null,l.a.createElement(I.a,{bg:"primary",variant:"dark",expand:"lg"},l.a.createElement(P.a,{to:"/"},l.a.createElement(I.a.Brand,{color:"light"},"Workflow")),l.a.createElement(k.a,{className:"ml-auto",variant:"outline-light",onClick:function(){localStorage.removeItem("user"),e.history.push("/login")}},"Logout")))})),M=function(e){return l.a.createElement(l.a.Fragment,null,l.a.createElement(E.a,{className:"py-3 px-4 border-bottom boder"},l.a.createElement(h.a,{md:6,lg:6,sm:12},e.leftProps),l.a.createElement(h.a,{md:6,lg:6,sm:12},e.rightProps)))},q=t(96),B=function(e){var a=Object(C.b)(),t=a.handleSubmit,n=a.control,r=a.errors;return l.a.createElement(q.a,{show:e.show,onHide:function(){return e.onHide()}},l.a.createElement(q.a.Header,null,l.a.createElement(q.a.Title,null,"Add Workflow")),l.a.createElement(q.a.Body,null,l.a.createElement(v.a.Group,null,l.a.createElement(v.a.Label,null,"Workflow Name"),l.a.createElement(C.a,{as:l.a.createElement(v.a.Control,{name:"workflowName",isInvalid:r.workflowName}),name:"workflowName",rules:{required:{value:!0,message:"Workflow name is required."}},control:n,defaultValue:""}),l.a.createElement(v.a.Control.Feedback,{type:"invalid"},r.workflowName&&r.workflowName.message))),l.a.createElement(q.a.Footer,null,l.a.createElement(k.a,{variant:"secondary",onClick:function(){return e.onHide()}},"Cancel"),l.a.createElement(k.a,{onClick:t((function(a){e.onSubmit(a)}))},"Save")))},H=function(e){var a=Object(n.useState)(!1),t=Object(f.a)(a,2),r=t[0],o=t[1];return l.a.createElement(h.a,{md:3,lg:3,sm:12,className:"mt-4"},l.a.createElement(P.a,{to:"/nodes/"+e.index,className:"text-decoration-none text-dark"},l.a.createElement(g.a,{onMouseOver:function(){return o(!0)},onMouseLeave:function(){return o(!1)}},r&&l.a.createElement(k.a,{className:"float-button",variant:"danger",style:{zIndex:10},onClick:function(a){return e.deleteWorkflow(a,e.index)},onMouseLeave:function(){return o(!1)}},l.a.createElement(N.d,null)),l.a.createElement(g.a.Body,null,l.a.createElement(v.a.Label,{className:"border title-border"},e.data.title),l.a.createElement("div",{className:"pt-3"},l.a.createElement("h5",{className:"d-inline"},"completed"===e.data.state?"Completed":"Pending"),l.a.createElement(k.a,{className:"pull-right rounded-circle",variant:"completed"===e.data.state?"success":"secondary",onClick:function(a){return e.onStateChange(a,e.isCompleted,e.index)}},l.a.createElement(N.a,null)))))))},L=function(e){Object(j.a)(t,e);var a=Object(O.a)(t);function t(){var e;Object(S.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(e=a.call.apply(a,[this].concat(l))).state={showModal:!1,data:u(),filter:"All",search:""},e.createWorkspace=function(){e.setState({showModal:!0})},e.storeWorkflow=function(a){var t=e.state.data,n={id:(new Date).getTime(),title:a.workflowName,state:"pending",nodes:[]};t.push(n),e.setState({data:t,showModal:!1}),d(t)},e.onHide=function(){e.setState({showModal:!1})},e.onChange=function(a){e.setState({search:a.target.value})},e.changeFilter=function(a){e.setState({filter:a})},e.deleteWorkflow=function(a,t){a.preventDefault();var n=e.state.data;n.splice(t,1),e.setState({data:n}),d(n)},e.onStateChange=function(a,t,n){var l=e.state.data;if(a.preventDefault(),!t)return window.alert("Nodes may not completed or nodes not available.");l[n].state="completed"===l[n].state?"pending":"completed",e.setState({data:l})},e}return Object(x.a)(t,[{key:"render",value:function(){var e=this,a=this.state,t=a.showModal,n=a.data,r=a.filter,o=a.search;return l.a.createElement(l.a.Fragment,null,l.a.createElement(A,null),l.a.createElement(M,{leftProps:l.a.createElement(E.a,null,l.a.createElement(h.a,{md:8,lg:8,sm:12},l.a.createElement(v.a.Control,{name:"search",value:o,onChange:this.onChange})),l.a.createElement(h.a,{md:4,lg:4,sm:12},l.a.createElement(F.a,{title:"Filter: "+r,id:"filter-dropdown"},l.a.createElement(W.a.Item,{onClick:function(){return e.changeFilter("All")}},"All"),l.a.createElement(W.a.Item,{onClick:function(){return e.changeFilter("Completed")}},"Completed"),l.a.createElement(W.a.Item,{onClick:function(){return e.changeFilter("Pending")}},"Pending")))),rightProps:l.a.createElement(k.a,{variant:"success",className:"pull-right",onClick:this.createWorkspace},"+ Create Workflow")}),l.a.createElement(E.a,{className:"px-3"},n.map((function(a,t){var n=!1;a.nodes.length&&(n=!a.nodes.find((function(e){return-1!==["pending","in-progress"].indexOf(e.state)})));return"Completed"===r&&"pending"===a.state||"Pending"===r&&"completed"===a.state||!a.title.match(RegExp(o,"i"))?null:l.a.createElement(H,{isCompleted:n,deleteWorkflow:e.deleteWorkflow,key:t,index:t,onStateChange:e.onStateChange,data:a})}))),l.a.createElement(B,{show:t,onHide:this.onHide,onSubmit:this.storeWorkflow}))}}]),t}(n.Component),D=function(e){var a="secondary";switch(e.data.state){case"in-progress":a="primary";break;case"completed":a="success"}return l.a.createElement("div",{className:"my-4 pull-left ml-4 d-inline-block shadow",style:{width:"300px"}},l.a.createElement(g.a,null,l.a.createElement(k.a,{className:"float-button",variant:a,onClick:function(){return e.stateChange(e.index,e.data.state)}},l.a.createElement(N.a,null)),l.a.createElement(g.a.Body,null,l.a.createElement(v.a.Group,null,l.a.createElement(v.a.Control,{name:"title",value:e.data.title,isInvalid:""===e.data.title,onChange:function(a){return e.onChange(a,e.index)}}),l.a.createElement(v.a.Control.Feedback,{type:"invalid"},"Node title required.")),l.a.createElement(v.a.Group,null,l.a.createElement(v.a.Control,{as:"textarea",name:"desc",rows:18,value:e.data.desc,isInvalid:""===e.data.desc,onChange:function(a){return e.onChange(a,e.index)}}),l.a.createElement(v.a.Control.Feedback,{type:"invalid"},"Node description required.")))))},J=function(e){Object(j.a)(t,e);var a=Object(O.a)(t);function t(){return Object(S.a)(this,t),a.apply(this,arguments)}return Object(x.a)(t,[{key:"render",value:function(){return l.a.createElement("div",null,"Page404")}}]),t}(n.Component),G=function(e){Object(j.a)(t,e);var a=Object(O.a)(t);function t(){var e;Object(S.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(e=a.call.apply(a,[this].concat(l))).state={search:"",data:u()[e.props.match.params.id]},e.saveData=function(){var a=e.state.data,t=u();t[e.props.match.params.id]=a,d(t),window.alert("Workflow Saved")},e.onChange=function(a){var t=e.state.data;t.title=a.target.value,e.setState({data:t})},e.shuffleNodes=function(){var a=e.state.data,t=!1;a.nodes.length&&(t=!a.nodes.find((function(e){return-1!==["pending","in-progress"].indexOf(e.state)})));t||window.alert("Nodes are not in complete state shuffle not possible."),a.nodes=e.shuffle(a.nodes),e.setState({data:a})},e.shuffle=function(e){for(var a,t,n=e.length;0!==n;)t=Math.floor(Math.random()*n),a=e[n-=1],e[n]=e[t],e[t]=a;return e},e.deleteNode=function(){var a=e.state.data;if(0===a.nodes.length)return window.alert("No Nodes Available");window.confirm("Are you sure?")&&(a.nodes.pop(),e.setState({data:a}))},e.addNode=function(){var a=e.state.data;a.nodes.push({title:"New Task",desc:"Add your description",state:"pending"}),e.setState({data:a})},e.onNodeChange=function(a,t){var n=e.state.data;n.nodes[t][a.target.name]=a.target.value,e.setState({data:n})},e.stateChange=function(a,t){var n=e.state.data;if(0===a||"completed"===n.nodes[a-1].state){switch(t){case"in-progress":t="completed";break;case"pending":t="in-progress"}n.nodes[a].state=t,e.setState({data:n});var l=u();l[e.props.match.params.id]=n,d(l)}else window.alert("Node state only can change if previous node state is completed")},e}return Object(x.a)(t,[{key:"render",value:function(){var e=this,a=this.state.data;return a?l.a.createElement(l.a.Fragment,null,l.a.createElement(A,null),l.a.createElement(M,{leftProps:l.a.createElement(E.a,null,l.a.createElement(h.a,{md:6,lg:6,sm:12},l.a.createElement(v.a.Group,null,l.a.createElement(v.a.Control,{name:"search",value:a.title,onChange:this.onChange,isInvalid:""===a.title}),l.a.createElement(v.a.Control.Feedback,{type:"invalid"},"Workflow name required."))),l.a.createElement(h.a,{md:6,lg:6,sm:12},l.a.createElement("p",null,"Notes: Click on save to store current workflow and node data."))),rightProps:l.a.createElement("div",{className:"pull-right"},l.a.createElement(k.a,{variant:"primary",className:"ml-2",onClick:this.shuffleNodes},"Shuffle"),l.a.createElement(k.a,{variant:"danger",className:"ml-2",onClick:this.deleteNode},"Delete"),l.a.createElement(k.a,{variant:"success",className:"ml-2",onClick:this.addNode},"Add"),l.a.createElement(k.a,{variant:"info",className:"ml-2",onClick:this.saveData},"Save"))}),l.a.createElement("div",{style:{overflow:"auto"}},l.a.createElement(E.a,{className:"px-3",style:{width:"max-content"}},a.nodes.map((function(a,t){return l.a.createElement(D,{key:t,data:a,stateChange:e.stateChange,index:t,onChange:e.onNodeChange})}))))):l.a.createElement(J,null)}}]),t}(n.Component),T=Object(s.g)(G),V=Object(i.a)();function z(e){var a=e.children,t=Object(c.a)(e,["children"]);return l.a.createElement(s.b,Object.assign({},t,{render:function(){return m()?l.a.createElement(s.a,{to:{pathname:"/"}}):a}}))}function R(e){var a=e.children,t=Object(c.a)(e,["children"]);return l.a.createElement(s.b,Object.assign({},t,{render:function(){return m()?a:l.a.createElement(s.a,{to:{pathname:"/login"}})}}))}var Z=function(){return l.a.createElement(l.a.StrictMode,null,l.a.createElement(s.c,{history:V},l.a.createElement(s.d,null,l.a.createElement(z,{path:"/login",exact:!0},l.a.createElement(y,null)),l.a.createElement(R,{path:"/",exact:!0},l.a.createElement(L,null)),l.a.createElement(R,{path:"/nodes/:id",exact:!0},l.a.createElement(T,null)),l.a.createElement(s.a,{from:"*",to:"/login"}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(l.a.createElement(l.a.StrictMode,null,l.a.createElement(Z,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[71,1,2]]]);
//# sourceMappingURL=main.1d21c44e.chunk.js.map